---
title: "C++å­¦ä¹ ç¬”è®°(3)"
date: 2023-04-08T04:55:02+08:00
draft: false
toc: true
categories: ["C++"]
tags: ["C++"]
---
C++ Primer Chapter 4
## Expression è¡¨è¾¾å¼
å®šä¹‰ï¼šå«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç®—ç¬¦å¹¶åœ¨è®¡ç®—åèƒ½äº§ç”Ÿç»“æœ
```cpp
int a = 1;//åŒç›®è¿ç®—ç¬¦ +-*/=

int * b = &a;
*b = 10;//å•ç›®è¿ç®—ç¬¦*ï¼ˆè§£å¼•ç”¨ï¼‰
```

## Overload Operator é‡è½½è¿ç®—ç¬¦
- å¯ä»¥æ”¹å˜å†…éƒ¨çš„æ“ä½œæ–¹å¼
- **ä¸èƒ½**æ”¹å˜ä¼˜å…ˆçº§ï¼ˆegï¼šè®©+æ¯”*æ›´ä¼˜å…ˆï¼‰
- **ä¸èƒ½**è¾¾åˆ°æ”¹å˜æ“ä½œæ•°ï¼Œæ”¹å˜æ“ä½œæ•°æ•°ç›®çš„ç›®çš„

## å·¦å€¼å’Œå³å€¼(c++11)
```cpp
int &&rvalue = 20;
```
- å·¦å€¼ä½¿ç”¨çš„æ˜¯å¯¹è±¡çš„identityï¼ˆlocation in memoryï¼‰ï¼Œå³å€¼ç›´æ¥ä½¿ç”¨å¯¹è±¡çš„valueï¼ˆå†…å®¹contentsï¼‰ï¼›
- å³å€¼çš„ä½¿ç”¨å¯ä»¥é¿å…æ‹·è´ï¼›

## Precedence & Associativity ä¼˜å…ˆçº§å’Œç»“åˆæ€§
è¿ç®—ç¬¦ä¹‹é—´æœ‰ä¼˜å…ˆçº§çš„ä¸åŒï¼Œç”¨æ‹¬å·å¯ä»¥æ”¹å˜ã€‚ä¼˜å…ˆçº§è§£å†³çš„é—®é¢˜æ˜¯ï¼Œå…ˆè®¡ç®—å“ªä¸ªè¿ç®—ç¬¦ï¼Œç»“åˆæ€§è§£å†³çš„é—®é¢˜æ˜¯ï¼Œå½“ä¸€ä¸ªæ“ä½œç çš„å·¦å³ä¸¤è¾¹éƒ½æœ‰è¿ç®—ç¬¦ï¼Œä¸”ä¼˜å…ˆçº§ç›¸åŒæ—¶ï¼Œè¯¥æ“ä½œç å±äºå“ªä¸ªè¿ç®—ç¬¦ã€‚

### **ä¸è¦ğŸ™…åœ¨åŒä¸€ä¸ªè¯­å¥ä¸­æ—¢æ”¹å˜å®ƒçš„å€¼åˆå¼•ç”¨å®ƒ**
ä¾‹å¦‚ï¼š
```cpp
int i = 0;
//      |reference    |modification
cout << i << " " << ++i << endl;
```
- å¯èƒ½å®é™…çš„è¿è¡Œé¡ºåºå’Œæˆ‘ä»¬æƒ³è±¡çš„ä¸ä¸€æ ·
- å¯è¯»æ€§å·®

å†å¦‚ï¼š
```cpp
string s = "hellow world";
beg = s.begin();

while(beg != s.end() && !isspace(*beg)){
    *beg = toupper(*beg++);
}
```
å…¶ä¸­`*beg = toupper(*beg++)`å¯èƒ½è¢«ç¼–è¯‘æˆï¼š
```cpp
beg++;
*beg = toupper(*beg);
```
ä¹Ÿæœ‰å¯èƒ½æ˜¯
```cpp
*beg = toupper(*beg);
beg++;
```

### çŸ­è·¯
å¯¹äº `&&` å’Œ `||`ï¼Œèƒ½é€šè¿‡å·¦è¾¹çš„å€¼åˆ¤æ–­å‡ºæ•´ä¸ªè¡¨è¾¾å¼çš„å€¼çš„æ—¶å€™ï¼Œä¸ä¼šå†è®¡ç®—å³è¾¹è¡¨è¾¾å¼çš„å€¼

### order of evaluation, precedence and ssociativity è¯„ä¼°ï¼ˆè¿ç®—ï¼‰é¡ºåº
å¯¹äºï¼š
```cpp
int sum = f() + g()*k() - h();
```
è®¡ç®—æ•´ä½“å¼å­çš„å€¼ï¼Œå…ˆè®¡ç®—`g()*f()`ï¼Œå†ç›¸åŠ `f()`å’Œ`h()`ï¼Œä½†ç¼–è¯‘å™¨æ²¡åŠæ³•ä¿è¯å…ˆè®¡ç®—å“ªä¸ªå‡½æ•°çš„å€¼ï¼Œå¦‚æœè¿™å‡ ä¸ªå‡½æ•°ä¹‹é—´æœ‰ä¾èµ–å…³ç³»çš„è¯ï¼Œå®¹æ˜“å‡ºç°é”™è¯¯ğŸ™…ã€‚


C++ Primer Chapter 5

Tips:
1. ç©ºè¯­å¥å¯è¯»æ€§å·®
2. æµç¨‹æ§åˆ¶è¯­å¥(if-else,while()ç­‰)ä¸­ï¼Œä¸ç®¡å†™å¤šå°‘è¯­å¥ï¼ˆcompound statementï¼‰ï¼Œéƒ½ç”¨èŠ±æ‹¬å·æ‹¬èµ·æ¥
```cpp
//Null statement
int cond = 1;;;;//Null statement

//compound statement
if(cond == 1);//compound statement
cout << "cond == 1" << endl;

//mismatch
int k = 0;
if(a == 1)
    if(c == 100)
        cout << "dslkfmlk" << endl;
    else
        cout << "fali" << endl;
```
## try-catch
```cpp
#include<stdexcept>

void func(){
    throw std::invalid_argument("invalis arg")
}

int main(){
    try {
        func();
    } catch(const std::invalid_argument& e){
        cout << "err catched:" << e.what() << endl;
    }
}
```